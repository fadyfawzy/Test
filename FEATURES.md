# Emtihanat Eldorou' – General Secretariat for Scouts & Guides, Shoubra El-Kheima Diocese

## 🎯 نظرة عامة
نظام امتحانات الدرجات الشامل للأمانة العامة للكشافة والمرشدات بمطرانية شبرا الخيمة، مع ميزات متقدمة لمكافحة الغش وتقييم المحفوظات.

---

## 🗑 ميزات الحذف الفردي

### 📋 تبويبة المستخدمين
- **حذف فردي مع نافذة تأكيد**: تأكيد باللغة العربية "هل أنت متأكد من الحذف؟ لا يمكن التراجع عن هذا الإجراء."
- **حذف متعدد**: إمكانية تحديد عدة مستخدمين وحذفهم معاً
- **إحصائيات فورية**: تحديث العدد فور الحذف

### ❓ تبويبة الأسئلة  
- **حذف فردي ومتعدد**: نفس النظام مع الأسئلة
- **معاينة السؤال**: عرض جزء من السؤال في نافذة التأكيد
- **إحصائيات تفاعلية**: عدد الأسئلة المحددة

### 🚨 تبويبة التنبيهات
- **حذف/مسح التنبيهات الفردية**: حذف تنبيهات مكافحة الغش المنفردة
- **حذف متعدد**: تحديد وحذف عدة تنبيهات
- **حالات مختلفة**: مراجعة، حل، أو حذف نهائي

---

## 🔄 نظام إعادة ضبط البيانات المحدث

### ✅ إعادة ضبط شاملة عاملة
- **مسح كامل**: حذف جميع البيانات من localStorage
- **كلمة مرور المدير**: يتطلب F@dy1313 للتأكيد
- **رسائل عربية**: نجاح/فشل بالعربية
- **إعادة تحميل**: إعادة تحميل الصفحة لضمان المسح الكامل

### 🎯 إعادة ضبط محددة
\`\`\`javascript
const keysToRemove = [
  'users', 'questions', 'results', 'alerts', 'examResults', 
  'pendingEvaluations', 'completedEvaluations', 'systemLogs',
  'examAttempts', 'userSessions', 'antiCheatLogs', 'leaderPasswords'
]
\`\`\`

---

## 📥 استيراد CSV محسّن وإزالة البيانات المزيفة

### 🔧 إصلاحات الاستيراد
- **ترميز UTF-8 مع BOM**: دعم صحيح للنصوص العربية
- **معالجة أخطاء شاملة**: تحليل مفصل للأخطاء
- **خيار استبدال البيانات**: إمكانية استبدال البيانات الموجودة
- **تقرير الاستيراد**: ملخص مفصل بالنجاحات والأخطاء

### 📊 قوالب محسّنة
\`\`\`csv
Code,Name,Church,Category,Password,Email
1001,أحمد محمد,العذراء,كشافة ومرشدات,12345678,ahmed@example.com
1002,فاطمة علي,مار جرجس,أشبال وزهرات,87654321,fatma@example.com
\`\`\`

### ✨ ميزات التحقق
- **التحقق من الفئات**: التأكد من صحة الفئات
- **التحقق من الكودات**: منع الكودات المكررة
- **التحقق من تنسيق البيانات**: 6 حقول مطلوبة للمستخدمين، 9 للأسئلة

---

## 🧠 تدفق النتائج المحدث

### 🔒 إخفاء الدرجات
- **عدم عرض فوري**: لا توجد درجات مباشرة بعد الامتحان
- **رسالة الانتظار**: "تم تسجيل إجاباتك. يرجى انتظار تقييم القائد."
- **لوحة تقييم القائد**: تظهر بعد التقييم اللاحق
- **النتائج النهائية**: تظهر فقط بعد التقييم اللاحق

### 📝 رسائل محددة
\`\`\`
تم تسجيل إجاباتك بنجاح
تم تسجيل إجاباتك. يرجى انتظار تقييم القائد.
سيتم عرض النتيجة النهائية بعد اكتمال تقييم المحفوظات والسلوك من قبل القائد المسؤول.
\`\`\`

---

## 🧩 تبويبة التقييم اللاحق

### 🆕 تبويبة إدارية جديدة
- **إدارة مخصصة**: تبويبة منفصلة للتقييم اللاحق
- **كلمات مرور القادة**: مصادقة قابلة للتكوين
- **معايير التقييم**: فئات تقييم متعددة
- **درجات مرجّحة**: المحفوظات، السلوك، المشاركة، الترديد الكشفي

### 🔐 كلمات مرور القادة
\`\`\`javascript
const defaultPasswords = ["Leader123", "القائد123", "F@dy1313"]
\`\`\`

### ⚖️ نظام الترجيح
| المعيار | الوزن |
|---------|-------|
| حفظ الآيات والأدعية | 40% |
| السلوك والالتزام | 30% |
| المشاركة والتفاعل | 20% |
| الترديد الكشفي | 10% |

### 📊 تتبع الحالة
- **في الانتظار**: لم يتم التقييم بعد
- **مكتمل**: تم التقييم
- **مقفل**: تم القفل النهائي

---

## 🔐 نظام قفل الامتحانات

### 🚪 القفل التلقائي
- **قفل بعد التقييم**: الامتحان يُقفل بعد التقييم اللاحق
- **منع إعادة الدخول**: رسالة عربية للامتحانات المقفلة
- **تحكم القائد**: فقط القادة يمكنهم إكمال التقييمات
- **قفل دائم**: لا يمكن إعادة فتح الامتحان بعد القفل

### 🔒 رسالة القفل
\`\`\`
امتحان مقفل
تم قفل الامتحان نهائياً
تم إكمال تقييم القائد وقفل الامتحان. لا يمكن إعادة فتحه مرة أخرى.
\`\`\`

---

## 📤 وظائف التصدير المحسّنة

### 📋 تصدير شامل
- **جميع الحقول المطلوبة**: تصدير كامل للبيانات
- **ترميز UTF-8**: دعم صحيح للعربية
- **درجات المحفوظات**: مضمنة في التصديرات
- **تتبع الحالة**: حالة في الانتظار/مقفل/غش

### 📊 تصدير النتائج المحسّن
\`\`\`csv
كود المستخدم,الاسم,الكنيسة,الفئة,درجة الامتحان,النسبة المئوية,درجة المحفوظات,درجة السلوك,درجة المشاركة,درجة الترديد,الدرجة النهائية,تاريخ الإنهاء,الحالة,حالة القفل
\`\`\`

---

## 🔐 بيانات اعتماد المدير المؤكدة

### 👤 معلومات الدخول
- **اسم المستخدم**: Fady
- **كلمة المرور**: F@dy1313
- **التحقق**: يعمل في جميع أنحاء النظام

### 🔑 كلمات مرور القادة
- **Leader123**: كلمة مرور إنجليزية
- **القائد123**: كلمة مرور عربية
- **F@dy1313**: كلمة مرور المدير
- **قابلة للتكوين**: يمكن إضافة/حذف كلمات مرور

---

## 🖋 تذييل عام محافظ عليه

### 📄 النص العربي
\`\`\`
© 2025 الأمانة العامة للكشافة والمرشدات بمطرانية شبرا الخيمة - جميع الحقوق محفوظة
\`\`\`

---

## 🧪 بيانات اعتماد الاختبار

### 🔑 بيانات الدخول
| النوع | اسم المستخدم | كلمة المرور |
|-------|---------------|-------------|
| مدير | Fady | F@dy1313 |
| مستخدم عينة | 1001 | 12345678 |

### 🏆 كلمة مرور القادة الموحدة
- **كلمة المرور الموحدة للقادة**: 321m
- لتقييم امتحان المحفوظات والسلوك

## 📋 فئات الامتحانات المحدثة
- **براعم** (Cubs)
- **أشبال** (Scouts - Boys)  
- **كشافة** (Scouts - Advanced)
- **مرشدات** (Guides)
- **جوالة** (Rovers)
- **ذوو الهمم** (People with Disabilities)

---

## 📋 الميزات الرئيسية المضافة

### 1. ✅ صناديق اختيار متعددة الاختيار
- تحديد متعدد في جميع الجداول
- تحديد الكل/إلغاء التحديد
- عدادات تفاعلية

### 2. 🔔 نوافذ تأكيد بالعربية  
- جميع العمليات المدمرة
- رسائل تأكيد واضحة
- خيارات إلغاء وتأكيد

### 3. 📊 مؤشرات التقدم
- للعمليات الطويلة
- استيراد CSV
- نسخ احتياطية

### 4. 📈 إحصائيات فورية
- تحديثات مباشرة
- عدادات دقيقة
- حالة النظام

### 5. 📝 تسجيل شامل
- جميع الإجراءات الإدارية
- تتبع التغييرات
- طوابع زمنية

### 6. 🔤 ترميز UTF-8 صحيح
- دعم كامل للعربية
- BOM للتوافق
- استيراد/تصدير موثوق

### 7. 🔐 آلية قفل الامتحانات
- مصادقة القائد
- قفل دائم
- رسائل واضحة

### 8. ⚖️ تدفق التقييم اللاحق
- درجات مرجّحة
- معايير متعددة
- تتبع مفصل

---

## 🚀 تشغيل النظام

\`\`\`bash
# تثبيت التبعيات
pnpm install

# تشغيل بيئة التطوير
pnpm dev

# بناء للإنتاج
pnpm build

# تشغيل الإنتاج
pnpm start
\`\`\`

---

## 📞 الدعم والتطوير

للمساعدة والاستفسارات:
- **البريد الإلكتروني**: admin@scouts-shubra.org
- **الهاتف**: +20 XXX XXX XXXX
- **العنوان**: مطرانية شبرا الخيمة وكل توابعها

---

## ✅ **Core Requirements Implemented:**

### 1. 🏷️ **Application Name & Branding**
- **Title**: "امتحانات الدرجات | Emtihanat Eldorou'"
- **Subtitle**: "General Secretariat for Scouts & Guides, Shoubra El-Kheima Diocese"
- **Cairo Font**: Implemented with Google Fonts
- **RTL Layout**: Full Arabic RTL support

### 2. 📚 **Question Categories & Template**
- ✅ Updated categories: براعم، أشبال، كشافة، مرشدات، جوالة، ذوو الهمم
- ✅ Admin can filter, add, edit questions by category
- ✅ CSV/Excel bulk upload with validation
- ✅ Downloadable templates with examples

### 3. 🔐 **User Login with Unique Code**
- ✅ Unique exam code system implemented
- ✅ One-time use validation
- ✅ Code marking system prevents re-access
- ✅ Cannot re-access exam after submission

### 4. 📖 **Exam Flow with Bible Verse**
- ✅ Pre-exam notice with Bible verse (Proverbs 5:21)
- ✅ Arabic translation: "لأن طرق الإنسان أمام عيني الرب، وهو يزن جميع سبله"
- ✅ One question per page with Next/Previous buttons
- ✅ Timer countdown and auto-submit
- ✅ Tab-switching prevention (anti-cheat)
- ✅ **Results hidden from users** - only admin sees results

### 5. 🎓 **Post Evaluation (Memorization Exam)**
- ✅ Unified leader password: **"321m"**
- ✅ Leader authentication required for evaluations
- ✅ Weighted scoring system for memorization and behavior
- ✅ Post-evaluation workflow with exam locking

### 6. 🏛️ **Admin Dashboard (RTL)**
- ✅ Complete RTL Arabic layout
- ✅ Add/Edit/Delete questions by category
- ✅ CSV/Excel import/export with UTF-8 BOM
- ✅ Results visible only to admin
- ✅ Comprehensive management system

### 7. 🎨 **Technical Implementation**
- ✅ **React + Next.js 15 + TailwindCSS**
- ✅ **Cairo Font** from Google Fonts
- ✅ **Fully responsive** design (mobile, tablet, desktop)
- ✅ **RTL layout** throughout the application
- ✅ **Anti-cheat measures** implemented

### 8. 📝 **Footer**
- ✅ "© 2025 General Secretariat for Scouts & Guides – Shoubra El-Kheima Diocese. All rights reserved."

---

**© 2025 General Secretariat for Scouts & Guides – Shoubra El-Kheima Diocese. All rights reserved.**
